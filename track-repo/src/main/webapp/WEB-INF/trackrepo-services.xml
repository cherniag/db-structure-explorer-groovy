<?xml version="1.0" encoding="UTF-8"?>
<beans default-lazy-init="true" default-init-method="init"
       xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd">
    
    <bean id="trackRepo.CloudFileService" class="mobi.nowtechnologies.server.service.impl.CloudFileServiceImpl" init-method="init">
		<property name="userName" value="${cloudFile.userName}" />
		<property name="password" value="${cloudFile.password}" />
		<property name="account" value="${cloudFile.account}" />
		<property name="connectionTimeOutMilliseconds" value="${cloudFile.connectionTimeOutMilliseconds}" />
		<property name="authenticationURL" value="${cloudFile.authenticationURL}" />
		<property name="useETag" value="${cloudFile.useETag}" />
		<property name="userAgent" value="${cloudFile.userAgent}" />
		<property name="containerName" value="${cloudFile.containerName}" />
		<property name="filesURL" value="${cloudFile.filesURL}" />
	</bean>
    
    <bean id="trackRepo.TrackService" class="mobi.nowtechnologies.server.trackrepo.service.impl.TrackServiceImpl">
        <property name="encodeScript" value="${trackRepo.encode.script}" />
        <property name="itunesScript" value="${trackRepo.itunes.script}" />
		<property name="publishDir" value="${trackRepo.pull.publish}" />
		<property name="neroHome" value="${trackRepo.encode.nero.home}" />
		<property name="workDir" value="${trackRepo.encode.workdir}" />
		<property name="classpath" value="${trackRepo.encode.classpath}" />
		<property name="privateKey" value="${trackRepo.encode.privkey}" />
		<property name="trackRepository" ref="trackRepository" />
		<property name="cloudFileService" ref="trackRepo.CloudFileService" />		
		<property name="srcPullContainer" value="${trackRepo.pull.cdn.container.src}" />
		<property name="destPullContainer" value="${trackRepo.pull.cdn.container.dest}" />
		<property name="brightcoveWriteToken" value="${brightcove.token.write}" />
		<property name="brightcoveReadToken" value="${brightcove.token.read}" />
		<property name="brightcoveGeoFiltering" value="${brightcove.geo.filter}" />
	</bean>

    <bean id="trackRepo.ParserFactory" class="mobi.nowtechnologies.server.trackrepo.ingest.IParserFactory">
        <property name="sonyRoot" value="${trackRepo.ingest.sony.root}" />
        <property name="sonyDDEXRoot" value="${trackRepo.ingest.sony.ddex.root}" />
        <property name="warnerOldRoot" value="${trackRepo.ingest.warner.root}" />
        <property name="warnerRoot" value="${trackRepo.ingest.warnerV34.root}" />
        <property name="universalRoot" value="${trackRepo.ingest.universal.root}" />
        <property name="fugaRoot" value="${trackRepo.ingest.fuga.root}" />
        <property name="ciRoot" value="${trackRepo.ingest.ci.root}" />
        <property name="emiRoot" value="${trackRepo.ingest.emi.root}" />
        <property name="iodaRoot" value="${trackRepo.ingest.ioda.root}" />
        <property name="manualRoot" value="${trackRepo.ingest.manual.root}" />
        <property name="absoluteRoot" value="${trackRepo.ingest.absolute.root}" />
	</bean>

    <bean id="trackRepo.IngestService" class="mobi.nowtechnologies.server.trackrepo.service.impl.IngestServiceImpl">
		<property name="trackRepository" ref="trackRepository" />
		<property name="ingestionLogRepository" ref="ingestionLogRepository" />
		<property name="parserFactory" ref="trackRepo.ParserFactory" />
	</bean>
	
    <bean name="trackRepo.ResourceFileDtoBuilder" class="mobi.nowtechnologies.server.trackrepo.dto.builder.ResourceFileDtoBuilder" init-method="init">
		<property name="publishDir" value="${trackRepo.pull.publish}" />
		<property name="workDir" value="${trackRepo.encode.workdir}" />
    </bean> 
	
	<bean id="trackRepo.FileService" class="mobi.nowtechnologies.server.trackrepo.service.impl.FileServiceImpl">
		<property name="fileRepository" ref="fileRepository" />
	</bean>		
</beans>