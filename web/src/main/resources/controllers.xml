<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:mvc="http://www.springframework.org/schema/mvc" xmlns:util="http://www.springframework.org/schema/util"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
       http://www.springframework.org/schema/beans/spring-beans.xsd
	http://www.springframework.org/schema/mvc
	http://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util.xsd">

    <bean id="subscriptionInfoAsm" class="mobi.nowtechnologies.server.web.asm.SubscriptionInfoAsm">
        <property name="timeService" ref="timeService"/>
        <property name="iTunesPaymentService" ref="service.iTunesPaymentService"/>
    </bean>

    <bean name="web.VersionController" class="mobi.nowtechnologies.server.controller.VersionController"/>

    <bean name="web.HomeController" class="mobi.nowtechnologies.server.web.controller.HomeController"/>

    <bean name="web.LoginController" class="mobi.nowtechnologies.server.web.controller.LoginLogoutController"/>

    <bean name="web.SignUpController" class="mobi.nowtechnologies.server.web.controller.SignUpController">
        <property name="userService" ref="service.UserService"/>
        <property name="communityService" ref="service.communityService"/>
        <property name="rememberMeServices" ref="nowTechBasedRememberMeServices"/>
        <property name="authenticationManager" ref="authenticationManager"/>
    </bean>

    <bean name="web.RestorePasswordController"
          class="mobi.nowtechnologies.server.web.controller.RestorePasswordController">
        <property name="userService" ref="service.UserService"/>
    </bean>

    <bean class="mobi.nowtechnologies.server.web.controller.GetAppController">
        <property name="userService" ref="service.UserService"/>
    </bean>

    <bean name="web.AccountController" class="mobi.nowtechnologies.server.web.controller.AccountController">
        <property name="userService" ref="service.UserService"/>
        <property name="messageSource" ref="messageSource"/>
        <property name="specificCommunityResourcesFolderPath" value="${specificCommunityResourcesFolderPath}"/>
    </bean>

    <bean name="web.PaymentHistoryController"
          class="mobi.nowtechnologies.server.web.controller.PaymentHistoryController">
        <property name="paymentService" ref="service.PaymentService"/>
        <property name="messageSource" ref="messageSource"/>
    </bean>

    <bean name="web.TracksController" class="mobi.nowtechnologies.server.web.controller.TracksController">
        <property name="mediaLogService" ref="service.MediaLogService"/>
        <property name="fileService" ref="service.FileService"/>
        <property name="messageSource" ref="messageSource"/>
    </bean>

    <bean class="mobi.nowtechnologies.server.web.controller.PaymentsController">
        <property name="paymentDetailsService" ref="service.PaymentDetailsService"/>
        <property name="communityService" ref="service.communityService"/>
    	<property name="userService" ref="service.UserService"/>
    	<property name="promotionService" ref="service.PromotionService"/>
        <property name="paymentPolicyService" ref="service.PaymentPolicyService"/>
        <property name="communityResourceBundleMessageSource" ref="serviceMessageSource"/>
        <property name="subscriptionInfoAsm" ref="subscriptionInfoAsm"/>
    </bean>

    <bean class="mobi.nowtechnologies.server.web.controller.EnterPhoneNumberController">
    </bean>

    <bean class="mobi.nowtechnologies.server.web.controller.PinController">
    </bean>

    <bean class="mobi.nowtechnologies.server.web.controller.PaymentsCreditCardController">
        <property name="countryService" ref="service.CountryService"/>
        <property name="paymentDetailsService" ref="service.PaymentDetailsService"/>
        <property name="paymentPolicyService" ref="service.PaymentPolicyService"/>
    </bean>

    <bean class="mobi.nowtechnologies.server.web.controller.PaymentsPayPalController">
        <property name="paymentDetailsService" ref="service.PaymentDetailsService"/>
        <property name="paymentPolicyService" ref="service.PaymentPolicyService"/>
        <property name="userService" ref="service.UserService"/>
        <property name="communityResourceBundleMessageSource" ref="serviceMessageSource"/>
    </bean>

    <bean class="mobi.nowtechnologies.server.web.controller.PaymentsMigController">
        <property name="paymentDetailsService" ref="service.PaymentDetailsService"/>
        <property name="paymentPolicyService" ref="service.PaymentPolicyService"/>
    </bean>

	<bean class="mobi.nowtechnologies.server.web.controller.PaymentsPsmsController">
        <property name="paymentDetailsService" ref="service.PaymentDetailsService"/>
        <property name="paymentPolicyRepository" ref="paymentPolicyRepository"/>
        <property name="o2PaymentService" ref="service.o2PaymentService"/>
        <property name="vfPaymentService" ref="service.vfPaymentService"/>
        <property name="userRepository" ref="userRepository"/>
    </bean>


    <bean class="mobi.nowtechnologies.server.web.controller.UnsubscribeController">
        <property name="userService" ref="service.UserService"/>
    </bean>

    <util:constant static-field="mobi.nowtechnologies.common.util.Env.URL_TO_CHART_COVER" id="URL_TO_CHART_COVER"/>
    <util:constant static-field="mobi.nowtechnologies.common.util.Env.URL_TO_TRACKS" id="URL_TO_TRACKS"/>

    <util:map id="env" key-type="java.lang.String">
        <entry key="URL_TO_CHART_COVER" value="${cloudFile.filesURL}"/>
        <entry key="URL_TO_TRACKS" value="${cloudFile.mediaCoverFileURL}"/>
    </util:map>

    <bean class="mobi.nowtechnologies.server.web.controller.PlaylistController">
        <property name="chartService" ref="service.ChartService"/>
        <property name="userService" ref="service.UserService"/>
        <property name="chartDetailService" ref="service.ChartDetailService"/>
        <property name="env" ref="env"/>
    </bean>

    <bean name="web.SupportController" class="mobi.nowtechnologies.server.web.controller.SupportController">
        <property name="userService" ref="service.UserService"/>
    </bean>

    <bean name="web.FaqController" class="mobi.nowtechnologies.server.web.controller.FaqController"/>

    <bean class="mobi.nowtechnologies.server.web.controller.TermsController"/>

    <bean name="web.ErrorController" class="mobi.nowtechnologies.server.web.controller.ErrorController"/>

    <bean name="web.OffersController" class="mobi.nowtechnologies.server.web.controller.OffersController">
        <property name="offerService" ref="service.OfferService"/>
        <property name="filesURL" value="${cloudFile.filesURL}"/>
        <property name="coverStorePath" value="${web.coverStorePath}"/>
    </bean>

    <bean name="web.OfferPaymentMethodsController"
          class="mobi.nowtechnologies.server.web.controller.OfferPaymentMethodsController">
        <property name="paymentPolicyService" ref="service.PaymentPolicyService"/>
    </bean>

    <bean name="web.OfferPaymentsPayPalController"
          class="mobi.nowtechnologies.server.web.controller.OfferPaymentsPayPalController">
        <property name="offerService" ref="service.OfferService"/>
        <property name="paymentDetailsService" ref="service.PaymentDetailsService"/>
    </bean>

    <bean name="web.OfferPaymentsCreditCardController"
          class="mobi.nowtechnologies.server.web.controller.OfferPaymentsCreditCardController">
        <property name="offerService" ref="service.OfferService"/>
        <property name="countryService" ref="service.CountryService"/>
        <property name="paymentDetailsService" ref="service.PaymentDetailsService"/>
    </bean>
    
    <bean class="mobi.nowtechnologies.server.web.controller.VideoTrialController">
        <property name="userService" ref="service.UserService"/>
    </bean>

    <!-- Static Pages -->
    <mvc:view-controller path="/privacy_policy.html" view-name="privacy_policy"/>

</beans>
