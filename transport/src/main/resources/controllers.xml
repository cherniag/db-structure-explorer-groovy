<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd">

	<bean id="transport.CommonController" abstract="true">
		<property name="view" ref="transport.JaxbMarshallingView" />
		<property name="userService" ref="service.UserService" />
		<property name="jaxb2Marshaller" ref="transport.JaxbMarshaller" />
		<property name="messageSource" ref="serviceMessageSource" />
		<property name="communityService" ref="service.communityService" />
		<property name="nowTechTokenBasedRememberMeServices" ref="nowTechBasedRememberMeServices" />
        <property name="userRepository" ref="userRepository" />
	</bean>

	<bean class="mobi.nowtechnologies.server.transport.controller.FileController" parent="transport.CommonController">
		<property name="fileService" ref="service.FileService" />
	</bean>

	<bean id="transport.AccCheckController" class="mobi.nowtechnologies.server.transport.controller.AccCheckController" parent="transport.CommonController">
		<property name="accountCheckDTOAsm" ref="accountCheckDTOAsm" />
		<property name="deviceUserDataService" ref="service.DeviceUserDataService" />
		<property name="chartService" ref="service.ChartService" />
		<property name="userDeviceDetailsService" ref="service.UserDeviceDetailsService" />
		<property name="accountLogService" ref="service.AccountLogService" />
		<property name="offerService" ref="service.OfferService" />
		<property name="iTunesService" ref="service.ITunesService" />
		<property name="deviceService" ref="service.DeviceService" />
		<property name="paymentPolicyService" ref="service.PaymentPolicyService" />
	</bean>

	<bean id="transport.ApplyInitPromoController" class="mobi.nowtechnologies.server.transport.controller.ApplyInitPromoController" parent="transport.CommonController" >
        <property name="updateO2UserTask" ref="job.UpdateO2UserTask"/>
        <property name="userPromoService" ref="service.UserPromoService"/>
        <property name="accCheckController" ref="transport.AccCheckController"/>
    </bean>

	<bean class="mobi.nowtechnologies.server.transport.controller.SignUpDeviceController" parent="transport.CommonController">
		<property name="communityService" ref="service.communityService" />
        <property name="accCheckController" ref="transport.AccCheckController"/>
	</bean>

	<bean class="mobi.nowtechnologies.server.transport.controller.GetChartController" parent="transport.CommonController">
		<property name="chartService" ref="service.ChartService" />
		<property name="throttlingService" ref="throttlingService" />
        <property name="accCheckController" ref="transport.AccCheckController"/>
	</bean>
	
	<bean class="mobi.nowtechnologies.server.transport.controller.GetNewsController" parent="transport.CommonController">
		<property name="userService" ref="service.UserService" />
		<property name="messageService" ref="service.MessageService" />
        <property name="accCheckController" ref="transport.AccCheckController"/>
	</bean>
	
	<bean class="mobi.nowtechnologies.server.transport.controller.PhoneNumberController" parent="transport.CommonController">
		<property name="userService" ref="service.UserService" />
	</bean>

	<bean class="mobi.nowtechnologies.server.transport.controller.MigController">
		<property name="userService" ref="service.UserService" />
		<property name="migPaymentService" ref="service.migPaymentService" />
	</bean>

	<bean id="controller.VersionController" class="mobi.nowtechnologies.server.controller.VersionController">
		<property name="versionService" ref="service.VersionService" />
	</bean>
	
 	<bean class="mobi.nowtechnologies.server.transport.controller.UnsubscribeController" parent="transport.CommonController">
 	</bean>

    <bean id="transport.ActivateVideoAudioFreeTrialController" class="mobi.nowtechnologies.server.transport.controller.ActivateVideoAudioFreeTrialController" parent="transport.CommonController">
        <property name="promotionService" ref="service.PromotionService"/>
        <property name="accCheckController" ref="transport.AccCheckController"/>
    </bean>

    <bean id="transport.AutoOptInController" class="mobi.nowtechnologies.server.transport.controller.AutoOptInController" parent="transport.CommonController">
        <property name="accCheckController" ref="transport.AccCheckController"/>
    </bean>

    <bean id="transport.EmailGenerationController" class="mobi.nowtechnologies.server.transport.controller.EmailGenerationController" parent="transport.CommonController">
        <property name="activationEmailService" ref="service.ActivationEmailService"/>
    </bean>

</beans>
