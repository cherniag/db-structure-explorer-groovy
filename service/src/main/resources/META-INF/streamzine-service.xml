<?xml version="1.0" encoding="UTF-8"?>
<beans default-init-method="init" xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
http://www.springframework.org/schema/beans/spring-beans-3.1.xsd">

    <bean name="deepLinkInfoService" class="mobi.nowtechnologies.server.assembler.streamzine.DeepLinkInfoService">
        <property name="mediaRepository" ref="mediaRepository"/>
        <property name="messageRepository" ref="messageRepository"/>
    </bean>

    <bean name="deepLinkUrlFactory" class="mobi.nowtechnologies.server.assembler.streamzine.DeepLinkUrlFactory">
        <property name="deepLinkInfoService" ref="deepLinkInfoService"/>
    </bean>

    <bean name="cloudFileImagesService" class="mobi.nowtechnologies.server.service.streamzine.CloudFileImagesService">
        <property name="cloudFileService" ref="service.CloudFileService"/>
        <property name="imageService" ref="imageService"/>
    </bean>

    <bean name="badgesService" class="mobi.nowtechnologies.server.service.streamzine.BadgesService">
        <property name="filenameAliasRepository" ref="filenameAliasRepository"/>
        <property name="cloudFileImagesService" ref="cloudFileImagesService"/>
        <property name="resolutionRepository" ref="resolutionRepository"/>
        <property name="badgeMappingRepository" ref="badgeMappingRepository"/>
        <property name="cloudFileService" ref="service.CloudFileService"/>
        <property name="imageService" ref="imageService"/>
    </bean>

    <bean name="streamzineUpdateAsm" class="mobi.nowtechnologies.server.assembler.StreamzineUpdateAsm">
        <property name="deepLinkUrlFactory" ref="deepLinkUrlFactory"/>
        <property name="deepLinkInfoService" ref="deepLinkInfoService"/>
        <property name="badgeMappingRepository" ref="badgeMappingRepository"/>
        <property name="communityRepository" ref="communityRepository"/>
        <property name="resolutionRepository" ref="resolutionRepository"/>
        <property name="badgesService" ref="badgesService"/>
    </bean>

    <bean name="streamzineUpdateService" class="mobi.nowtechnologies.server.service.streamzine.StreamzineUpdateService">
        <property name="streamzineUpdateRepository" ref="streamzineUpdateRepository"/>
        <property name="availableCommunites" value="${streamzine.available.communities}"/>
        <property name="communityRepository" ref="communityRepository"/>
    </bean>

</beans>
