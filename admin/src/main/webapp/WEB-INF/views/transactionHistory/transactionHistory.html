<!DOCTYPE html SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-spring3-3.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org">
	<head th:include="tpl::head" />

		<body>
			<div th:substituteby="tpl::navbar"></div>

			<div class="container" id="newsTable">
				<h1 class="head" th:text="#{users.management.page.title}">
					User Management
				</h1>
				<h3 class="head"
					th:text="#{transactionHistory.page.transactionHistoryTable.userName}">
					User Name:
				</h3>
				<p th:text="${userName}">22@22.22</p>
				<h2 class="head"
					th:text="#{transactionHistory.page.transactionHistoryTable.headline}">
					Transaction History
				</h2>
				
				<div class="newsListWide">
					<ul class="table">
						<li class="title">
							<div class="th_date"
								th:text="#{transactionHistory.page.transactionHistoryTable.head.date}">
								Date
							</div>
							<div class="th_type"
								th:text="#{transactionHistory.page.transactionHistoryTable.head.type}">
								Type
							</div>
							<div class="th_gateway"
								th:text="#{transactionHistory.page.transactionHistoryTable.head.gateway}">
								Gateway
							</div>
							<div class="th_amount"
								th:text="#{transactionHistory.page.transactionHistoryTable.head.amount}">
								Amount, weeks
							</div>
							<div class="th_newBalance"
								th:text="#{transactionHistory.page.transactionHistoryTable.head.newBalance}">
								New Balance
							</div>
							<div class="th_isrc"
								th:text="#{transactionHistory.page.transactionHistoryTable.head.isrc}">
								ISRC
							</div>
						</li>
					</ul>
					<ul class="table table_up" id="sortable">

						<li th:each="accountLogDto : ${ACCOUNT_LOG_DTO_LIST}">
							<div class="th_date"
								th:text="${#dates.format(accountLogDto.logTimestamp, '__#{transactionHistory.page.transactionHistoryTable.logTimestamp.format}__')}">
								12/06/2012 12:00:00
							</div>
							
							<div class="th_type" th:text="#{transactionType.__${accountLogDto.transactionType}__}">
								Track Purchased
							</div>
							
<!--							<div class="th_gateway" th:text="${accountLogDto.gateway}">-->
							<div class="th_gateway">
							</div>
							
							<div class="th_amount" th:text="${accountLogDto.balanceAfter}">
								5
							</div>
							
<!--							<div class="th_newBalance" th:if="${accountLogDto.amount}" th:text="${accountLogDto.amount+' '+accountLogDto.amountCurrency}">-->
							<div class="th_newBalance" th:if="${accountLogDto.amount}" th:text="${accountLogDto.amount}">
								5 &pound;
							</div>
							
							<div class="th_isrc" th:if="${accountLogDto.relatedMediaIsrc}" th:text="${accountLogDto.relatedMediaIsrc}">
								USUM71108089
							</div>

						</li>
					</ul>
				</div>
			</div>
			<br/><br/>
			<div class="container" id="newsTable">
				<h2 class="head"
					th:text="#{transactionHistory.page.pendingTransactionTable.headline}">
					Pending Transactions
				</h2>
				<div class="newsListWide">
					<ul class="table">
						<li class="title">
							<div class="pt_id"
								th:text="#{transactionHistory.page.pendingTransactionTable.head.id}">
								Id
							</div>
							<div class="pt_date"
								th:text="#{transactionHistory.page.pendingTransactionTable.head.date}">
								Date
							</div>
							<div class="pt_gateway"
								th:text="#{transactionHistory.page.pendingTransactionTable.head.gateway}">
								Gateway
							</div>
							<div class="pt_amount"
								th:text="#{transactionHistory.page.pendingTransactionTable.head.amount}">
								Amount
							</div>
							<div class="pt_numretries"
								th:text="#{transactionHistory.page.pendingTransactionTable.head.numRetries}">
								Num Retries
							</div>
						</li>
					</ul>
					<ul class="table table_up" id="sortable">

						<li th:each="pendingPaymentDto : ${PENDING_PAYMENT_DTO_LIST}">
							<div class="pt_id" th:text="${pendingPaymentDto.internalTxId}">
								958127
							</div>
							
							<div class="pt_date"
								th:text="${#dates.format(pendingPaymentDto.date, '__#{transactionHistory.page.pendingTransactionTable.date.format}__')}">
								12/06/2012 12:00:00
							</div>
							
							<div class="pt_gateway" th:text="${pendingPaymentDto.gateway}">
								sagePayCreditCard
							</div>
							
							<div class="pt_amount" th:text="${pendingPaymentDto.amount+' '+pendingPaymentDto.currencyCode}">
								5 &pound;
							</div>
							
							<div class="pt_numretries" th:text="${pendingPaymentDto.numPsmsRetries}">
								3
							</div>

						</li>
					</ul>
				</div>
			</div>
			<br/><br/>
			<div class="container" id="newsTable">
				<h2 class="head"
					th:text="#{transactionHistory.page.failedTransactionsTable.headline}">
					Failed Transactions
				</h2>
				<div class="newsListWide">
					<ul class="table">
						<li class="title">
							<div class="ft_id"
								th:text="#{transactionHistory.page.failedTransactionsTable.head.id}">
								Id
							</div>
							<div class="ft_date"
								th:text="#{transactionHistory.page.failedTransactionsTable.head.date}">
								Date
							</div>
							<div class="ft_gateway"
								th:text="#{transactionHistory.page.transactionHistoryTable.head.gateway}">
								Gateway
							</div>
							<div class="ft_amount"
								th:text="#{transactionHistory.page.transactionHistoryTable.head.amount}">
								Amount
							</div>
							<div class="ft_error"
								th:text="#{transactionHistory.page.transactionHistoryTable.head.error}">
								Error
							</div>
						</li>
					</ul>
					<ul class="table table_up" id="sortable">

						<li th:each="submittedPaymentDto : ${SUBMITTED_PAYMENT_DTO_LIST}">
							<div class="ft_id" th:text="${submittedPaymentDto.internalTxId}">
								958127
							</div>
							
							<div class="ft_date"
								th:text="${#dates.format(submittedPaymentDto.date, '__#{transactionHistory.page.transactionHistoryTable.logTimestamp.format}__')}">
								12/06/2012 12:00:00
							</div>
							
							<div class="ft_gateway" th:text="${submittedPaymentDto.gateway}">
								sagePayCreditCard
							</div>
							
							<div class="ft_amount" th:if="${submittedPaymentDto.amount}" th:text="${submittedPaymentDto.amount+' '+submittedPaymentDto.currencyCode}">
								5 &pound;
							</div>
							
							<div class="ft_error" th:if="${submittedPaymentDto.descriptionError}" th:text="${submittedPaymentDto.descriptionError}">
								Some error occurred
							</div>

						</li>
					</ul>
				</div>
			</div>
		</body>
</html>