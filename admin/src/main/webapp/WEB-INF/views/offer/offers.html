<!DOCTYPE html SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-spring3-3.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org">
	<head th:include="tpl::head" />

		<body>
			<div th:substituteby="tpl::navbar"></div>
			<div class="container">
			<h1 class="head" th:text="#{offers.pages.title}">Web Store</h1>
				
				<div class="newsListWide">
					<ul class="table" id="offersTable">
						<li class="title">
								<div class="numberStore" th:text="#{offers.page.storeItems.head.position}">#</div>
								<div class="imageStore" th:text="#{offers.page.storeItems.head.image}">Image</div>
								<div class="titleStore" th:text="#{offers.page.storeItems.head.title}">Title</div>
								<div class="priceStore" th:text="#{offers.page.storeItems.head.price}">Price</div>
								<div class="currencyStore" th:text="#{offers.page.storeItems.head.currency}">Currency</div>
								<div class="filtersStore" th:text="#{offers.page.storeItems.head.filters}">Filters</div>
						</li>
						<li th:each="offerDto, it: ${OFFER_DTO_LIST}">
							<div class="numberStore" th:text="${it.index+1}">1</div>
							<div class="imageStore"><img alt="Offer picture" src="" width="100" height="100" th:attr="src=@{__${filesURL +offerDto.coverFileName}__}" th:alt="#{offers.page.offersTable.offer.img.alt}"/></div>
							<div class="titleStore"><span th:text="${offerDto.title}">Package 1</span><br/><br />
								<a th:href="@{/offers/__${offerDto.id}__}" th:text="#{offers.page.offersTable.offer.edit.submit}">Edit</a> |
								<form id="deleteOfferForm" name="deleteOfferForm" action="#" th:action="@{/offers/__${offerDto.id}__}" method="post">
									<input type="hidden" id="_method" name="_method" value="DELETE" />
									<button type="submit" class="btn btn-danger">Delete</button>
								</form>
							</div>
							<div class="priceStore" th:text="${#numbers.formatDecimal(offerDto.price,0,2)}">Price</div>
							<div class="currencyStore" th:text="#{${'offers.pages.offer.currency.'+offerDto.currency}}">Currency</div>
							<div class="filters">
								<span th:each="filterDto: ${offerDto.filterDtos}">
									<span class="label"  th:class="#{${'label label_'+filterDto.name}}" th:text="#{${'offers.page.offersTable.offer.filter.'+filterDto.name}}">Filter list</span>
								</span>
							</div>
						</li>
					</ul>
				</div>
				<div class="navButtons">
					<div class="updateButton">
					<ul class="nav nav-pills table_margin" >
					  <li class="active">
					    <a href="offers/add" th:href="@{/offers/new}" th:text="#{offers.page.offersTable.offer.add.addNew}">Add New</a>
					  </li>
					</ul>
					</div>
				</div>
			</div>
		</body>
</html>