<?xml version="1.0" encoding="UTF-8"?>
<entity-mappings version="2.0"
	xmlns="http://java.sun.com/xml/ns/persistence/orm" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://java.sun.com/xml/ns/persistence/orm http://java.sun.com/xml/ns/persistence/orm_2_0.xsd ">

	<named-query name="ChartDetail.findContentInfoByDrmType">
		<query><![CDATA[select distinct chartDetail from ChartDetail chartDetail 
		join FETCH chartDetail.chart chart 
		join FETCH chartDetail.media media 
		join FETCH chart.genre genre1 
		join FETCH media.artist artist 
		join FETCH media.genre genre2 
		join FETCH media.headerFile headerFile 
		join FETCH media.audioFile audioFile 
		join FETCH media.imageFIleLarge imageFileLarge 
		join FETCH media.imageFileSmall imageFileSmall
		join FETCH media.imageFileSmall imageFileSmall
		join FETCH media.drms drms
		where chart=?1 and drms.drmType=?2 and drms.user=?3
		]]></query>
	</named-query>
	
	<named-query name="ChartDetail.findContentInfoByIsrc">
		<query><![CDATA[select distinct chartDetail from ChartDetail chartDetail  
		join FETCH chartDetail.media media 
		join FETCH media.drms drms
		where chartDetail.chartId=?1 and drms.user=?3 and media.isrc in ?2
		]]></query>
	</named-query>

</entity-mappings>